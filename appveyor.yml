version: 1.0.0.{build}

environment:
  matrix:
    - job_name: PHP 8.1
      PLATFORM: x64
      MG_REL_SUFFIX: php81
      COMPOSER: composer.php5.json
      PHP_COMPOSER_VER: 2.5.8
      PHP_DIST_NAME: php-8.1.17-nts-Win32-vs16-x64
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2022
    - job_name: PHP 5.6
      PLATFORM: x64
      MG_REL_SUFFIX: php56
      COMPOSER: composer.json
      PHP_COMPOSER_VER: 2.2.21
      PHP_DIST_NAME: php-5.6.40-nts-Win32-VC11-x64
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2022

matrix:
  fast_finish: true

build: false
shallow_clone: true
platform:
  - x64
clone_folder: c:\projects\mapguide-rest
cache:
  - '%LOCALAPPDATA%\Composer\files'

branches:
  only:
    - master

for:
  # ======================================
  #      PHP 5.6
  # ======================================
  - 
    matrix:
      only:
        - job_name: PHP 5.6

    init:
      - echo init PHP 5.6

    build_script:
      - echo build PHP 5.6

  # ======================================
  #      PHP 8.1
  # ======================================
  - 
    matrix:
      only:
        - job_name: PHP 8.1

    init:
      - echo init PHP 8.1

    build_script:
      - echo build PHP 8.1